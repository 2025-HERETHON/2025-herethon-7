{% extends "base_menu.html" %} 
{% load static %}

{% block title %}ê°ìƒ ê¸°ë¡ ë“±ë¡{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/create.css' %}" />
{% endblock %} 

<!-- ì„ íƒí•œ ì±… ì •ë³´ ë°•ìŠ¤ -->
<section class="book-search-preview">
  <h3>ì±… ê²€ìƒ‰</h3>
  <div class="book-selected-box">
    <img src="{{ book.thumbnail }}" alt="{{ book.title }}">
    <div class="book-meta">
      <div class="book-title">{{ book.title }}</div>
      <div class="book-author">{{ book.author }}</div>
    </div>
    <form method="GET" action="{% url 'books:search' %}">
      <button type="submit">ë³€ê²½</button>
    </form>
  </div>
</section>

{% block content %}
<!-- ìƒë‹¨ íƒ€ì´í‹€ ì„¹ì…˜ -->
<header class="title-section">
  <h1>ğŸ“– ê°ìƒ ê¸°ë¡ ë“±ë¡í•˜ê¸°</h1>
  <p>ì±… ì •ë³´ë¥¼ ì…ë ¥í•˜ê³  ê°ì •ì„ ê¸°ë¡í•´ë³´ì„¸ìš”</p>
</header>

<!-- ë¦¬ë·° ì‘ì„± í¼ -->
<h2>ì±… ê²€ìƒ‰</h2>
<div class="book-selected-box">
{% if book.thumbnail %}
  <img src="{{ book.thumbnail }}" alt="ì±… ì¸ë„¤ì¼" width="120"><br><br>
{% endif %}
<form method="POST" action="{% url 'contents:create' book.id %}">       
    {% csrf_token %}
<div class="book-title">
<p><strong>{{ book.title }}</strong></p>
</div>
<div class="book-author">
<p>{{ book.author }}</p>
</div>


<a href="{% url 'contents:book_search'%}" class="change-btn">ë³€ê²½</a>
</div>

  <!-- ê°ìƒ ì‘ì„± ë°•ìŠ¤ -->
  <div class="review-box">
    <!-- â­ í‰ì  -->
    <div class="rating-row">
      <label for="rating"><strong>í‰ì </strong></label>
      <div class="star-rating">
        {% for i in rating_range|slice:"::-1" %}
          <input type="radio" id="star{{ i }}" name="rating" value="{{ i }}">
          <label for="star{{ i }}">â˜…</label>
        {% endfor %}
      </div>
    </div>

    <!-- í•œ ì¤„ ê°ìƒí‰ -->
    <label for="short_comment"><strong>í•œ ì¤„ ê°ìƒí‰</strong></label>
    <input type="text" name="short_comment" id="short_comment" maxlength="100" placeholder="í•œ ì¤„ ê°ìƒí‰ì„ ì¨ì£¼ì„¸ìš”" required>

    <!-- ìƒì„¸ ê°ìƒí‰ -->
    <label for="detailed_review"><strong>ìƒì„¸ ê°ìƒí‰</strong> <small>(ì„ íƒ)</small></label>
    <textarea name="detailed_review" id="detailed_review" rows="6" placeholder="ìì„¸í•œ ê°ìƒí‰ì„ ì¨ì£¼ì„¸ìš”"></textarea>
  </div>

  <!-- ê°ì • íƒœê·¸ -->
  <div class="tag-section">
    <label><strong>ê°ì • íƒœê·¸</strong></label>

    <strong>1ì°¨ ê°ì •</strong>
    <div class="tag-container">
      {% for tag in tags %}
        {% if tag.tag_type == 'primary' %}
          <input type="checkbox" id="tag{{ tag.id }}" name="tag" value="{{ tag.id }}">
          <label for="tag{{ tag.id }}">#{{ tag.name }}</label>
        {% endif %}
      {% endfor %}
    </div>

    <strong>2ì°¨ ê°ì • (ì—¬ì„± ì¤‘ì‹¬ ê°ì •)</strong>
    <div class="tag-container">
      {% for tag in tags %}
        {% if tag.tag_type == 'secondary' %}
          <input type="checkbox" id="tag{{ tag.id }}" name="tag" value="{{ tag.id }}">
          <label for="tag{{ tag.id }}">#{{ tag.name }}</label>
        {% endif %}
      {% endfor %}
    </div>
  </div>

  <br><button type="submit">ë“±ë¡í•˜ê¸°</button>
</form> 
{% endblock %}
